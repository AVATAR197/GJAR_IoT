(this["webpackJsonpgjar-iot"]=this["webpackJsonpgjar-iot"]||[]).push([[0],{101:function(e,t,a){e.exports=a(220)},106:function(e,t,a){},14:function(e,t,a){e.exports={Wrapper:"GraphSettings_Wrapper__3KKm6",Text:"GraphSettings_Text__1Bjrp",Select:"GraphSettings_Select__Kensv"}},15:function(e,t,a){e.exports={whitebox:"AboutUsPage_whitebox__19Cmd",aboutProject:"AboutUsPage_aboutProject__30u5J",aboutProjectText:"AboutUsPage_aboutProjectText__2LlQY",image:"AboutUsPage_image__1Bijv",about_us_title:"AboutUsPage_about_us_title__3ZIbe",about_us:"AboutUsPage_about_us__2IWWK"}},19:function(e,t,a){e.exports={hamburger:"HamburgerButton_hamburger__64Akx",isactive:"HamburgerButton_isactive__1AQG7",hamburgerinner:"HamburgerButton_hamburgerinner__1itlo",hamburgerbox:"HamburgerButton_hamburgerbox__3h85a",hamburgersqueeze:"HamburgerButton_hamburgersqueeze__4lISa"}},220:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(31),c=a.n(o),i=(a(106),a(32)),l=a(33),s=a(36),u=a(34),m=a(37),d=a(51),p=a.n(d),v=a(19),b=a.n(v),h=function(e){var t=e.active?b.a.isactive:null;return n.a.createElement("div",{className:[b.a.hamburger,b.a.hamburgersqueeze,t].join(" "),onClick:e.click},n.a.createElement("div",{className:b.a.hamburgerbox},n.a.createElement("div",{className:b.a.hamburgerinner})))},_=a(38),g=a.n(_),E=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:g.a.GjarIot},"GJAR IOT"),n.a.createElement("p",{className:g.a.Activeroom},e.title),n.a.createElement("div",{className:g.a.HamburgerButton},n.a.createElement(h,{click:e.click,active:e.active})))},f=a(24),k=a.n(f),N=a(99),y=a(16),j=[{name:"\u0160tudov\u0148a",number:29},{name:"Inf Kabinet",number:53},{name:"U\u010deb\u0148a Fyz",number:61},{name:"Kni\u017enica",number:70},{name:"Aj 1",number:71},{name:"Nj 2",number:77},{name:"Bio kabinet",number:83},{name:"VI.OA",number:84}],C=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,"Pr\xedzemie"),j.map((function(t,a){var r=null;return 29===t.number?r="1. poschodie":53===t.number?r="2. poschodie":77===t.number&&(r="3. poschodie"),n.a.createElement(n.a.Fragment,{key:a},n.a.createElement(y.b,{style:{textDecoration:"none"},to:"/"},n.a.createElement("li",{onClick:function(){return e.click("".concat(t.name," (").concat(t.number,")"),t.number)}},t.name," (",t.number,")")),null!==r?n.a.createElement("div",null,r):null)})),n.a.createElement(y.b,{style:{textDecoration:"none"},to:"/about-project"},n.a.createElement("div",{style:{textDecoration:"underline"},onClick:e.aboutProjectClick},"O projekte")))},x=function(e){var t=e.active?[k.a.SideDrawer,k.a.Active].join(" "):k.a.SideDrawer;return n.a.createElement("div",{className:t},n.a.createElement("div",{className:k.a.CloseBtn,onClick:e.clicked},n.a.createElement(N.a,{size:"1.7em",value:{style:{verticalAlign:"middle"}}}),"Close"),n.a.createElement(C,{aboutProjectClick:e.aboutProjectClick,click:e.click}))},A=a(85),O=a.n(A),I=function(e){return e.show?n.a.createElement("div",{className:O.a.Backdrop,onClick:e.clicked}):null},R=a(54),S=a.n(R),P=function(e){return n.a.createElement("div",{className:S.a.DesktopSideDrawer},n.a.createElement(C,{aboutProjectClick:e.aboutProjectClick,styling:S.a,click:e.click}))},B=a(55),M=a.n(B),w=a(86),D=a.n(w),T=a(87),H=a.n(T),G=a(88),F=a.n(G),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null,t=null,a=null;return"temperature"===this.props.type?(a="Aktu\xe1lna teplota",t="\xb0C",e=n.a.createElement("img",{src:D.a,alt:"chart"})):"humidity"===this.props.type?(a="Aktu\xe1lna vlhkos\u0165",t="%",e=n.a.createElement("img",{src:F.a,alt:"chart"})):"brightness"===this.props.type&&(a="Aktu\xe1lne osvetlenie",t="%",e=n.a.createElement("img",{src:H.a,alt:"chart"})),n.a.createElement("div",{className:M.a.Whitebox},n.a.createElement("p",null,a),n.a.createElement("h1",null,this.props.value,t),n.a.createElement("div",{className:M.a.Icon},e))}}]),t}(r.Component),W=a(89),L=a.n(W),U=function(e){return n.a.createElement("div",{className:L.a.Boxes},n.a.createElement(z,{type:"temperature",value:e.temperature}),n.a.createElement(z,{type:"humidity",value:e.humidity}),n.a.createElement(z,{type:"brightness",value:e.brightness}))},V=a(90),K=a(56),Y=a.n(K),J=a(14),q=a.n(J),Q=function(e){return n.a.createElement("div",{className:q.a.Wrapper},n.a.createElement("p",{className:q.a.Text},"Zobraz d\xe1ta za posledn\xfdch:"),n.a.createElement("select",{className:q.a.Select,onChange:function(t){t.target.value!==e.selectedInterval&&e.select(t.target.value)}},n.a.createElement("option",{className:q.a.Item,value:"3"},"3 hodiny"),n.a.createElement("option",{className:q.a.Item,value:"6"},"6 hod\xedn"),n.a.createElement("option",{className:q.a.Item,value:"24"},"24 hod\xedn")))},Z=function(e){return n.a.createElement("div",{className:Y.a.Wrapper},n.a.createElement("div",{className:Y.a.Graph},n.a.createElement(V.a,{data:{labels:e.time,datasets:[{label:"Teplota",data:e.temperature,fill:!0,backgroundColor:"rgba(85, 186, 254, .3)",borderWidth:4,borderColor:"#55D8FE"},{label:"Vlhkos\u0165",data:e.humidity,fill:!0,backgroundColor:"rgba(163, 160, 251, .3)",borderWidth:4,borderColor:"#A3A0FB"},{label:"Osvetlenie",data:e.brightness,fill:!0,backgroundColor:"rgba(94, 226, 160, .3)",borderWidth:4,borderColor:"#5EE2A0"}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"},tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1}}})),n.a.createElement(Q,{select:e.select,selectedInterval:e.selectedInterval}))},$=a(92),X=a.n($),ee=function(e){return n.a.createElement("div",{className:X.a.MainPage},n.a.createElement(U,{temperature:e.values.temperature[e.values.temperature.length-1],humidity:e.values.humidity[e.values.humidity.length-1],brightness:e.values.brightness[e.values.brightness.length-1]}),n.a.createElement(Z,{selectedInterval:e.selectedInterval,select:e.select,temperature:e.values.temperature,humidity:e.values.humidity,brightness:e.values.brightness,time:e.values.times}))},te=a(39),ae=a.n(te),re=function(){return n.a.createElement("div",{className:ae.a.spinner},n.a.createElement("div",{className:ae.a.cube1}),n.a.createElement("div",{className:ae.a.cube2}))},ne=a(93),oe=a.n(ne),ce=function(e){return n.a.createElement("div",{className:oe.a.errDiv},n.a.createElement("p",null,e.errMessage))},ie=a(11),le=a(15),se=a.n(le),ue=a(94),me=a.n(ue),de=a(3),pe=a.n(de),ve=function(){return n.a.createElement("div",{className:se.a.whitebox},n.a.createElement("div",{className:se.a.aboutProject},n.a.createElement("div",{className:se.a.image},n.a.createElement("img",{src:me.a,alt:"wemos"})),n.a.createElement("div",{className:se.a.aboutProjectText},n.a.createElement("p",null,"Cie\u013eom tohto projektu je moderniz\xe1cia \u0161koly. V miestnostiach \u0161koly sa bude mera\u0165 teplota vzduchu, osvietenos\u0165 a vlkos\u0165."))),n.a.createElement("div",{className:se.a.about_us_title},"Na projekte pracovali:"),n.a.createElement("div",{className:se.a.about_us},n.a.createElement("div",null,n.a.createElement("h2",null,"Maro\u0161"),n.a.createElement("p",null,"Pracoval som na koncepte tohto projektu a hardware pre Node jednotky. M\xe1m"," ",pe()().diff("1999-08-19","years")," rokov a som u\u017e absolventom Gymn\xe1zia J\xe1na Adama Raymana. Moment\xe1lne \u0161tudujem odbor Mikroelektronika a technol\xf3gie na FEKT VUT v Brne.")),n.a.createElement("div",null,n.a.createElement("h2",null,"Samo"),n.a.createElement("p",null,"Pracoval som na softv\xe9ri a spr\xe1ve servera. M\xe1m ",pe()().diff("1998-11-06","years")," rokov a som absolventom Gymn\xe1zia J\xe1na Adama Raymana. Teraz \u0161tudujem Informatiku a Fyziku na University of Edinburgh.")),n.a.createElement("div",null,n.a.createElement("h2",null,"Daniel"),n.a.createElement("p",null,"Pracoval som na webstr\xe1nke. M\xe1m ",pe()().diff("2002-01-10","years")," rokov. Nav\u0161tevujem Gymn\xe1zium J\xe1na Adama Raymana v Pre\u0161ove a som \u017eiakom 3.D triedy.")),n.a.createElement("div",null,n.a.createElement("h2",null,"Miro"),n.a.createElement("p",null,"Pracoval som na softv\xe9ri pre Node. M\xe1m 18 rokov. Nav\u0161tevujem Gymn\xe1zium J\xe1na Adama Raymana v Pre\u0161ove a som \u017eiakom 4.C triedy."))))},be=(a(201),a(95)),he=a.n(be).a.create({baseURL:"https://iot.gjar-po.sk/"}),_e=a(35),ge=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).hamburgerButtonClickedHandler=function(){a.props.toggleNav(a.props.isNavOpened)},a.changeActiveRoomHandler=function(e,t){a.props.activeRoomNumber===t&&null!==a.props.activeRoomNumber||(a.props.changeActiveRoom(t,e),!0===a.props.isNavOpened&&a.props.toggleNav(a.props.toggleNav),a.props.contactServer(t,3))},a.setSelectedInterval=function(e){a.props.contactServer(a.props.activeRoomNumber,e)},a.aboutProjectClickHandler=function(){a.props.changeActiveRoom("O projekte",null),a.props.isNavOpened&&a.props.toggleNav(a.props.isNavOpened)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.changeActiveRoom(29,"\u0160tudov\u0148a (29)"),this.props.contactServer(29,3)}},{key:"render",value:function(){var e=n.a.createElement(re,null);return this.props.serverError?e=n.a.createElement(ce,{errMessage:this.props.errMessage}):this.props.serverError||this.props.render?this.props.render&&(e=n.a.createElement(ee,{activeRoomNumber:this.props.activeRoomNumber,values:this.props.values,render:this.props.render,selectedInterval:this.props.selectedInterval,select:this.setSelectedInterval})):e=n.a.createElement(re,null),n.a.createElement(n.a.Fragment,null,n.a.createElement("nav",{className:p.a.Navbar},n.a.createElement(E,{click:this.hamburgerButtonClickedHandler,active:this.props.isNavOpened,title:this.props.activeRoom})),n.a.createElement("main",{className:p.a.Content},n.a.createElement(ie.a,{path:"/",exact:!0,render:function(){return e}}),n.a.createElement(ie.a,{path:"/about-project",exact:!0,component:ve})),n.a.createElement(P,{aboutProjectClick:this.aboutProjectClickHandler,click:this.changeActiveRoomHandler}),n.a.createElement(x,{aboutProjectClick:this.aboutProjectClickHandler,active:this.props.isNavOpened,clicked:this.hamburgerButtonClickedHandler,click:this.changeActiveRoomHandler}),n.a.createElement(I,{show:this.props.isNavOpened,clicked:this.hamburgerButtonClickedHandler}))}}]),t}(r.Component),Ee=Object(_e.b)((function(e){return{isNavOpened:e.ui.isNavOpened,values:e.data.values,activeRoomNumber:e.room.activeRoomNumber,activeRoom:e.room.activeRoom,serverError:e.data.serverError,render:e.data.render,errMessage:e.data.errMessage,selectedInterval:e.data.selectedInterval}}),(function(e){return{contactServer:function(t,a){return e(function(e,t){return function(a){var r=pe()().subtract(t,"hours"),n={timeTo:pe()().format("YYYY-MM-DD"),timeFrom:pe()(r).format("YYYY-MM-DD"),beforeTimeHours:r,todayHours:pe()().format("LTS")},o={room:e,time:{"time-from":"".concat(n.timeFrom," ").concat(pe()(n.beforeTimeHours).format("LTS")),"time-to":"".concat(n.timeTo," ").concat(n.todayHours)}};he({method:"POST",data:o,url:"api/v1/view",headers:{"content-type":"application/json","cache-control":"no-cache"}}).then((function(e){a(function(e,t){return{type:"CONTACT_SERVER_SUCCESS",response:e,interval:t}}(e,t))})).catch((function(e){a(function(e){return{type:"CONTACT_SERVER_FAIL",error:e}}(e.message))}))}}(t,a))},changeActiveRoom:function(t,a){return e(function(e,t){return{type:"CHANGE_ACTIVE_ROOM",roomNumber:e,roomName:t}}(t,a))},toggleNav:function(t){return e(function(e){return{type:"TOGGLE_NAV",isNavOpened:e}}(t))}}}))(ge),fe=a(18),ke=a(100),Ne=function(e,t){return Object(ke.a)({},e,{},t)},ye={values:{temperature:[],humidity:[],brightness:[],times:[]},render:!0,serverError:!1,errMessage:null,selectedInterval:null},je=function(e,t){if(t.response.data.data.length<=0)return Ne(e,{errMessage:"\u017diadne d\xe1ta",serverError:!0,render:!1});for(var a=[],r=[],n=[],o=[],c=t.response.data.data.length/(t.response.data.data.length/t.interval),i=t.response.data.data.length-1;i>0;i-=c){var l=pe()(t.response.data.data[i].time).format("HH:mm DD/MM");a.unshift(parseFloat(t.response.data.data[i].temperature).toFixed(2)),r.unshift(parseFloat(t.response.data.data[i].humidity).toFixed(2)),n.unshift(parseFloat(t.response.data.data[i].brightness).toFixed(2)),o.unshift(l)}return Ne(e,{values:{temperature:a,humidity:r,brightness:n,times:o},render:!0,serverError:!1,selectedInterval:t.interval})},Ce=function(e,t){return Ne(e,{serverError:!0,errMessage:t.error,render:!1})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACT_SERVER_SUCCESS":return je(e,t);case"CONTACT_SERVER_FAIL":return Ce(e,t);default:return e}},Ae={isNavOpened:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_NAV":return Ne(e,{isNavOpened:!t.isNavOpened});default:return e}},Ie={activeRoom:null,activeRoomNumber:null},Re=function(e,t){return Ne(e,{activeRoom:t.roomName,activeRoomNumber:t.roomNumber})},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ACTIVE_ROOM":return Re(e,t);default:return e}},Pe=a(98),Be=Object(fe.c)({data:xe,ui:Oe,room:Se}),Me=Object(fe.d)(Be,Object(fe.a)(Pe.a));var we=function(){return n.a.createElement(_e.a,{store:Me},n.a.createElement(y.a,null,n.a.createElement(Ee,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},24:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__3smbF",CloseBtn:"SideDrawer_CloseBtn__1HUd5",Active:"SideDrawer_Active__3imPz"}},38:function(e,t,a){e.exports={GjarIot:"Navbar_GjarIot__2Qttq",Activeroom:"Navbar_Activeroom__xz8mC",HamburgerButton:"Navbar_HamburgerButton__3fc73"}},39:function(e,t,a){e.exports={spinner:"Loader_spinner__Qmy01",cube1:"Loader_cube1__3c88C",cube2:"Loader_cube2__239Wu","sk-cubemove":"Loader_sk-cubemove__2gTsA"}},51:function(e,t,a){e.exports={Content:"Layout_Content__13egM",Navbar:"Layout_Navbar__1xjZI",ErrMessage:"Layout_ErrMessage__11vPr"}},54:function(e,t,a){e.exports={DesktopSideDrawer:"DesktopSideDrawer_DesktopSideDrawer__iIxTO"}},55:function(e,t,a){e.exports={Icon:"Box_Icon__cWBqO",Whitebox:"Box_Whitebox__1lIf3"}},56:function(e,t,a){e.exports={Wrapper:"Graph_Wrapper__1IMn1",Graph:"Graph_Graph__3Kd4d"}},85:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3459l"}},86:function(e,t,a){e.exports=a.p+"static/media/bluechart.1e9aebf7.svg"},87:function(e,t,a){e.exports=a.p+"static/media/greenchart.dcd133bc.svg"},88:function(e,t,a){e.exports=a.p+"static/media/purplechart.cce984ae.svg"},89:function(e,t,a){e.exports={Boxes:"Boxes_Boxes__121GO"}},92:function(e,t,a){e.exports={MainPage:"MainPage_MainPage__1LyIK"}},93:function(e,t,a){e.exports={errDiv:"ErrorDiv_errDiv__3MB5Q"}},94:function(e,t,a){e.exports=a.p+"static/media/wemos.4187a81e.jpg"}},[[101,1,2]]]);
//# sourceMappingURL=main.8deae2e2.chunk.js.map